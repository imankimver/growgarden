<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="google-adsense-account" content="ca-pub-6331752744885927">
  <title>Grow a Garden Live – Dashboard</title>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C7271ELYFP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C7271ELYFP');
</script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6331752744885927"
     crossorigin="anonymous"></script>
  <style>
    html {
  scroll-behavior: smooth;
    }
    body {
      font-family: Arial, sans-serif;
      background: #f3f6f9;
      margin: 0;
      padding: 10px;
    }
    a {    text-decoration: none; }
    h1 {
      text-align: center;
      color: #2d3e50;
      margin-bottom: 30px;
    }

    .left {
      width: 100%;
    }

    .right {
      width: 100%;
    }

    .category-section {
      margin-bottom: 40px;
    }

    .category-section h2 {
      text-align: center;
      color: #4CAF50;
      margin-bottom: 10px;
      text-transform: capitalize;
    }

    .stock-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }

    .stock-card, .weather-card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      padding: 16px;
      width: 240px;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: transform 0.2s ease;
      text-align: center;
    }

    .stock-card:hover, .weather-card:hover {
      transform: scale(1.03);
    }

    .stock-card img, .weather-card img {
      width: 80px;
      height: 80px;
      object-fit: contain;
      margin-bottom: 10px;
    }

    .stock-card h3, .weather-card h2 {
      margin: 0;
      font-size: 18px;
      color: #333;
    }

    .stock-card p, .weather-card p {
      margin: 4px 0;
      font-size: 14px;
      color: #666;
    }

    #stock-status, #weather-status {
      text-align: center;
      margin: 10px 0;
      color: #888;
    }
    .floating-menu {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #ffffffdd;
      border-radius: 16px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      padding: 10px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      z-index: 999;
    }

    .floating-menu a {
      font-size: 24px;
      text-decoration: none;
      text-align: center;
      transition: transform 0.2s;
    }

    .floating-menu a:hover {
      transform: scale(1.2);
    }

    @media (max-width: 900px) {
      .left, .right {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <h1>🌱 Grow a Garden Dashboard</h1>
<h2 style="text-align: center;text-decoration: none;"><a href="index.html"> 🚀 Stock/Weather Live</a> | <a href="garden-info.html">📖 INFORMATIONS</a></h2>
<a style="font-size: 17px; padding: 4px 30px; display: flex ; justify-content: center;" href="javascript:void(0);" onclick="refreshAll()" title="Refresh Data">🔄 Refresh Live Data</a>
  <div class="dashboard">
    <!-- Left: Stocks -->
    <div class="left">
      <div id="stock-status">Loading stock data...</div>
      <div id="stocks">
        <div class="category-section" id="seed_stock">
          <h2>Seeds</h2>
          <div class="stock-grid"></div>
        </div>
        <div class="category-section" id="gear_stock">
          <h2>Gear</h2>
          <div class="stock-grid"></div>
        </div>
        <div class="category-section" id="egg_stock">
          <h2>Eggs</h2>
          <div class="stock-grid"></div>
        </div>
        <div class="category-section" id="cosmetic_stock">
          <h2>Cosmetics</h2>
          <div class="stock-grid"></div>
        </div>
        <div class="category-section" id="eventshop_stock">
          <h2>Event Shop</h2>
          <div class="stock-grid"></div>
        </div>
      </div>
    </div>

    <!-- Right: Weather -->
    <div class="right">
      <div id="weather-status">Loading weather data...</div>
      <div class="category-section">
        <h2>Current Weather</h2>
        <div class="stock-grid" id="weather-container"></div>
      </div>
    </div>
  </div>

  <script>
    const STOCK_API = "https://api.joshlei.com/v2/growagarden/stock";
    const WEATHER_API = "https://api.joshlei.com/v2/growagarden/weather";

    const stockStatus = document.getElementById("stock-status");
    const weatherStatus = document.getElementById("weather-status");

    async function loadStock() {
      try {
        const response = await fetch(STOCK_API);
        if (!response.ok) throw new Error("HTTP " + response.status);
        const data = await response.json();

        const categories = ["seed_stock", "gear_stock", "egg_stock", "cosmetic_stock", "eventshop_stock"];
        categories.forEach(cat => {
          document.querySelector(`#${cat} .stock-grid`).innerHTML = "";
        });

        for (const [key, items] of Object.entries(data)) {
          const grid = document.querySelector(`#${key} .stock-grid`);
          if (!grid || !Array.isArray(items)) continue;

          items.forEach(item => {
            const card = document.createElement("div");
            card.className = "stock-card";
            card.innerHTML = `
              <img src="${item.icon}" alt="${item.display_name}" />
              <h3>${item.display_name}</h3>
              <p><strong>Quantity:</strong> ${item.quantity}</p>
              <p><strong>Start:</strong> ${formatDate(item.Date_Start)}</p>
              <p><strong>End:</strong> ${formatDate(item.Date_End)}</p>
            `;
            grid.appendChild(card);
          });
        }

        stockStatus.textContent = "Stock last updated: " + new Date().toLocaleTimeString();
      } catch (err) {
        console.error(err);
        stockStatus.textContent = "Failed to load stock: " + err.message;
      }
    }

    async function loadWeather() {
      try {
        const response = await fetch(WEATHER_API);
        if (!response.ok) throw new Error("HTTP " + response.status);
        const json = await response.json();

        const weatherList = json.weather?.filter(item => item.active === true) || [];
        const container = document.getElementById("weather-container");
        container.innerHTML = "";

        if (weatherList.length === 0) {
          weatherStatus.textContent = "No active weather events right now.";
          return;
        }

        weatherList.forEach(data => {
          const card = document.createElement("div");
          card.className = "weather-card";
          card.innerHTML = `
            <img src="${data.icon}" alt="${data.weather_name}" />
            <h2>${data.weather_name}</h2>
            <p><strong>Duration:</strong> ${data.duration ?? 'N/A'} seconds</p>
            <p><strong>Status:</strong> 🟢 Active</p>
          `;
          container.appendChild(card);
        });

        weatherStatus.textContent = "Weather last updated: " + new Date().toLocaleTimeString();
      } catch (err) {
        console.error(err);
        weatherStatus.textContent = "Failed to load weather data: " + err.message;
      }
    }

    function formatDate(iso) {
      const d = new Date(iso);
      return d.toLocaleString();
    }
    // Load data once on page load
  window.addEventListener("DOMContentLoaded", () => {
    refreshAll();
  }); 
  
    // Refresh manually triggered
  function refreshAll() {
    loadStock();
    loadWeather();
  }

  // Auto-refresh every 2 minutes (120000 ms)
  setInterval(() => {
    loadStock();
    loadWeather();
  }, 120000);
  </script>
  <div class="floating-menu">
  <a href="#seed_stock" title="Seeds">🌱</a>
  <a href="#gear_stock" title="Gear">🛠️</a>
  <a href="#egg_stock" title="Eggs">🥚</a>
  <a href="#cosmetic_stock" title="Cosmetics">💄</a>
  <a href="#eventshop_stock" title="Event Shop">🎉</a>
  <a href="#weather-container" title="Weather">🌤️</a>
  <a href="garden-info.html" title="Weather">📖</a>
</div>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6331752744885927"
     crossorigin="anonymous"></script>
<!-- main ads -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-6331752744885927"
     data-ad-slot="3225022961"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<!-- Site Introduction and Calculator Info -->
<!-- Grow A Garden Live - Overview Section -->
<div style="max-width: 960px; margin: 40px auto; padding: 30px; background: #fff; border-radius: 16px; box-shadow: 0 0 10px rgba(0,0,0,0.05); line-height: 1.6; color: #333;">
  <h2 style="text-align: center; color: #2d3e50;">🌿 What is Grow A Garden Live?</h2>
  <p>
    <strong>Grow A Garden Live</strong> is your ultimate real-time dashboard for tracking the latest happenings in the Grow A Garden universe. While other players rely on screenshots or social media posts, we bring you accurate, live-updating data on item stock, weather effects, and garden value trends—all from verified sources.
  </p>

  <h3 style="color: #4CAF50;">🧭 Live Stock Monitoring</h3>
  <p>
    From legendary gear to rare seeds and rotating cosmetics, our stock tracker updates in real time so you never miss an important item drop. You’ll find detailed information such as quantities, drop times, rarity level, and expiration dates—all categorized and searchable. Whether you’re hunting for a specific egg or just curious about the event shop inventory, it’s all here at your fingertips.
  </p>

  <h3 style="color: #4CAF50;">🧮 Garden Value Calculator (Coming Soon!)</h3>
  <p>
    Curious about how much your items are worth? Our upcoming Garden Value Calculator will let you estimate your inventory's value in Sheckles based on weight, rarity, and item type. Just input your item info and get an instant estimate—perfect for traders, collectors, and value hunters. No more guessing or second-guessing before selling or harvesting.
  </p>

  <h3 style="color: #4CAF50;">🌦️ Real-Time Weather Tracker</h3>
  <p>
    Weather events can make or break your farming efficiency in Grow A Garden. That’s why we show you exactly what weather is currently active, how long it will last, and what potential bonuses or effects you can expect. All weather events are updated in real-time and displayed with clean visuals and timers so you can react fast and make the most of them.
  </p>

  <h3 style="color: #4CAF50;">🎯 Designed for Growers</h3>
  <p>
    Grow A Garden Live is lightweight, mobile-friendly, and completely browser-based. There’s no need to download anything, create an account, or log in. Whether you're on mobile, desktop, or tablet, the site adjusts smoothly so you can track, scroll, and click with ease. We’ve added emoji-based floating navigation, smooth scroll transitions, and clean layouts to make the experience as fast and fun as possible.
  </p>

  <h3 style="color: #4CAF50;">🚧 Built for the Community</h3>
  <p>
    This platform is built by fans, for fans. We’re constantly adding new tools, like saved calculations, garden progress tracking, and community leaderboards. Our mission is to help players of all levels make smarter decisions, stay updated with the game’s changing economy, and grow confidently.
  </p>

  <div style="text-align: center; margin-top: 30px; display: flex ; justify-content: center; align-items: center; align-content: center;">
    <a href="calculator.html" style="background: #2196F3; color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; font-size: 16px; margin-right: 10px;">🧮 Try Calculator (Coming Soon)</a>
    <a href="garden-info.html" style="background: #4CAF50; color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; font-size: 16px;">📖 Learn More</a>
  </div>
</div>
<!-- Floating Refresh Button -->
<div class="floating-menu" style="right: 80px;">
  <a style="font-size: 17px; padding: 4px 30px;" href="javascript:void(0);" onclick="refreshAll()" title="Refresh Data">🔄 Refresh Live Data</a>
</div>
</body>
</html>
